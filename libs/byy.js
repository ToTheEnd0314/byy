function e(e){console.error("Moon Error:\n"+e)}var t=function(e){for(var t in e.methods)e[t]=e.methods[t].bind(e)};function n(t){this instanceof n||e("Vue is a constructor and should be called with the `new` keyword"),this._init(t)}!function(n){n.prototype._init=function(e){var t=e.el,n=e.render;this._el=t,this.$el=n(this._render.bind(this)).$el,document.querySelector(this._el).appendChild(this.$el)},n.prototype._render=function(e){return(e=this._renderComponent(e)).$el=this._createELement(e),e},n.prototype._createELement=function(t,n){var r=n?n.vNode?n.vNode:n:t.vNode,s=document.createElement(r.tag);for(var i in r.attrs)if("style"===i)for(var o in r.attrs[i])s.style[o]=r.attrs[i][o];else s[i]="className"===i?r.attrs[i].join(" "):r.attrs[i];var a=function(n){if(/^\$.+$/.test(n));else if(s["on"+n]=null,Array.isArray(r._events[n])){var i={stop:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},prevent:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},o=n.split("."),a=null,c=n;o.length>1&&(c=o[0],i[o[1]]?a=i[o[1]]:e("You have used a invalid bedecker named ["+o[1]+',\nPlease check "'+JSON.stringify(Object.keys(i))+'"')),s["on"+c]=function(e){a&&a(e);var s=e||window.event,i=r._events[n].slice(1),o=i.findIndex((function(e){return"$event"===e}));o>-1&&i.splice(o,1,s),r._events[n][0].apply(t,i)}}else e("The event named ["+n+"] must be a Array<handler, ...params>")};for(var c in r._events)a(c);for(var p=function(e){var n;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)s.appendChild(document.createTextNode(""+e));else if(t.components){var r=Object.keys(t.components).find((function(t){return t===e.tag}));if(r){if(t.components[r].$parent=t,e._props){for(var i in e._props)t.components[r].props=Object.assign(t.components[r].props,((n={})[i]={type:t.components[r].props[i].type,default:t.components[r].props[i].default,value:e._props[i]},n));t.components[r].vNode=t.components[r].render(t.components[r]._renderVNode)}if(e._binds)for(var o in e._binds)t.components[r][o]=e._binds[o].bind(t);t.components[r].$el=d._createELement(t,t.components[r]),s.appendChild(t.components[r].$el)}else s.appendChild(d._createELement(t,e))}else s.appendChild(d._createELement(t,e))},d=this,l=0,h=r.children;l<h.length;l++){p(h[l])}return s},n.prototype._renderVNode=function(t,n,r){if(n&&n.attrs){var s=n.attrs.class||[];if(Array.isArray(s))n.attrs.className=[n.attrs.className].concat(s);else if("object"==typeof s){var i=Object.keys(s).filter((function(e){return s[e]}));n.attrs.className=[n.attrs.className].concat(i)}else e("The attribute named [class] must be a Array or Object<string: boolean>.");delete n.attrs.class}return{tag:t,attrs:n&&n.attrs,_props:n&&n.props,_events:n&&n.on,_binds:n&&n.bind,children:r||[]}},n.prototype._renderComponent=function(n){if(n.$get=this._get.bind(n),n.$set=this._set.bind(n),n._renderVNode=this._renderVNode,n._patch=this._patch,n._createELement=this._createELement,n._diffAttrs=this._diffAttrs,n._addPatch=this._addPatch,n._updatePacher=this._updatePacher,n._getTargetElement=this._getTargetElement,n._setterTimer=null,n.$emit=this._emit,n.$nextTick=this._nextTick,n._queueTicker=[],t(n),n.components)for(var r in n.components)n[r]=this._renderComponent(n.components[r]);return n.render?n.vNode=n.render(n._renderVNode):e("The component render function is required, in ["+n.name+"]"),n},n.prototype._get=function(e){return this.data[e]||!1===this.data[e]?this.data[e]:this.props&&(this.props[e].value||this.props[e].default)},n.prototype._set=function(e,t){var n=this;this.data[e]!==t&&(this.watch&&this.watch[e]&&this.watch[e].call(this,this.data[e],t),this.data[e]=t,clearTimeout(this._setterTimer),this._setterTimer=null,this._setterTimer=setTimeout((function(){n._patch(n.render(n._renderVNode),n.vNode),n.vNode=n.render(n._renderVNode);for(var e=0;e<n._queueTicker.length;e++)n._queueTicker[e]();n._queueTicker=[]}),10))},n.prototype._nextTick=function(e){this._queueTicker.push(e)},n.prototype._emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this[e]&&this[e].apply(this,t)},n.prototype._diffAttrs=function(e,t){var n={};for(var r in e)Array.isArray(e[r])?n[r]=e[r]:e[r]!==t[r]&&("object"==typeof e[r]?n[r]?n[r]=Object.assign(n[r],this._diffAttrs.call(this,e[r],t[r])):n[r]=Object.assign({},this._diffAttrs.call(this,e[r],t[r])):n[r]=e[r]);return n},n.prototype._updatePacher=function(e,t){for(var n in t)if("style"===n)for(var r in t[n])e.style[r]=t[n][r];else e[n]="className"===n?t[n].join(" "):t[n]},n.prototype._getTargetElement=function(e,t){var n=t.split("-"),r=e;if(1===n.length&&/^[\d]$/.test(n[0]))r=e.parentNode.childNodes[n[0]];else for(var s=1;s<n.length;s++)r=r.childNodes[n[s]];return r},n.prototype._addPatch=function(e){for(var t in e)if("update"===t)for(var n in e[t])"0"===n?this._updatePacher(this.$el,e[t][n]):this._updatePacher(this._getTargetElement(this.$el,n),e[t][n])},n.prototype._patch=function(e,t,n){var r,s,i={update:{},move:{},insert:{}},o=n||"0";if("string"==typeof e)i.update=((r={})[o]={nodeValue:e},r);else if(e.tag!==t.tag?this.$el.parentNode.replaceChild(this._createELement(this,e),this.$el):i.update=((s={})[o]=this._diffAttrs.call(this,e.attrs,t.attrs),s),e.children)for(var a=0;a<e.children.length;a++)this._patch.call(this,e.children[a],t.children[a],o+"-"+a);this._addPatch(i)}}(n);export default n;
